
 {% extends 'base/base_dashboard_manager.html' %}
 {% block content %}
 {% with mensaje = get_flashed_messages() %}
{% if mensaje %}
{% for mensajes in mensaje %}
    <center>
    <div class="alert alert-primary" role="alert">
        <strong>{{mensajes}}</strong>
        <button type="button" class="close" data-dismiss="alert" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div></center>

{% endfor %}
{% endif %}
{% endwith %}

                <div class="container-fluid">
                    <h3 class="text-dark mb-4">Registro Empleado {{sucursal}}</h3>
                    <div class="card shadow">
                        <div class="card-header py-3">
                            <p class="text-primary m-0 fw-bold">Ingresa la siguiente información</p>
                        </div>
                        <div class="card-body">
                            <div class="row register-form">
                                <div class="col-md-8 offset-md-2">
                                    <form class="custom-form" action="/register_employees" method="post" >
                                        <h1>&nbsp;DentalCare&nbsp;<i class="fas fa-tooth"></i></h1>
                                        <div class="row form-group">
                                            <div class="col-sm-4 label-column"><label class="col-form-label" for="name-input-field">Nombre(s) </label></div>
                                            <div class="col-sm-6 input-column"><input class="form-control" name="name" type="text" placeholder="Ingresa tu nombre(s)" required=""></div>
                                        </div>
                                        <div class="row form-group">
                                            <div class="col-sm-4 label-column"><label class="col-form-label" for="name-input-field">Apellidos</label></div>
                                            <div class="col-sm-6 input-column"><input class="form-control" name="apellido" type="text" placeholder="Ingresa tus apellidos" required=""></div></div>
                                        <div class="row form-group">
                                            <div class="col-sm-4 label-column"><label class="col-form-label" for="email-input-field">Correo</label></div>
                                            <div class="col-sm-6 input-column"><input class="form-control" name="email" type="email" inputmode="email" required="" placeholder="Ingresa el correo"></div>
                                        </div>
                                        <div class="row form-group">
                                            <div class="col-sm-4 label-column"><label class="col-form-label">Teléfono</label></div>
                                            <div class="col-sm-6 input-column"><input class="form-control" name="phone" type="tel" inputmode="numeric" required="" placeholder="Ingresa el teléfono"></div>
                                        </div>
                                        <div class="row form-group" >
                                            <div class="col-sm-4 label-column"><label class="col-form-label" for="name-input-field">Puesto</label></div>
                                            <div class="col-sm-6 input-column" ><select required="" onchange="javascript:showContent()" id="puesto" class="form-select" name="position">
                                                <optgroup label="--Puesto--">
                                                        <option>Selecciona alguno...</option> 
                                                     {% for opcion in opcion %}
                                                        <option name="position" checked>{{opcion.0}}</option>
                                                    {% endfor %}
                                                </optgroup>
                                                </select></div>

                                        </div>
                                        <div class="row form-group" id="content2" style="display:none;">
                                            <div class="col-sm-4 label-column"><label class="col-form-label" for="name-input-field">Consultorio</label></div>
                                    <div class="col-sm-6 input-column" id="Consultorio"><select class="form-select" id="formu" name="consultorio">
                                               <!-- <option value="1">Consultorio 1</option>
                                                <option value="1" >Consultorio 2</option> -->
                                                {% for opcion3 in opcion3 %}
                                                <option value="{{opcion3.0}}" >{{opcion3.0}}</option>
                                                {% endfor %}
                                         
                                        </select></div>
                                        
                                        </div>
                                    <br>
                                       <!-- <div class="row form-group">
                                            <div class="col-sm-4 label-column"><label class="col-form-label" for="name-input-field">Sucursal</label></div>
                                            <div class="col-sm-6 input-column"><select class="form-select"  name="branch">
                                                    {% for opcion2 in opcion2 %}
                                                        <option value="{{opcion3.1}}" >{{opcion2.0}}</option>
                                                    {% endfor %}
                                                </select></div>
                                        </div> -->
                                        <div class="row form-group">
                                            <div class="col-sm-4 label-column"><label class="col-form-label" for="repeat-pawssword-input-field">Contraseña</label></div>
                                            <div class="col-sm-6 input-column"><input class="form-control" name="password" type="password" required="" placeholder="Ingresa la contraseña" minlength="8" maxlength="25"></div>
                                        </div><button onclick="verificar()" class="btn btn-primary" type="submit" style="background: rgb(26, 32, 46);" data-bs-target=".hyml">Registrar</button>
                                    </form>
                                </div>
                            </div>
                            <script type="text/javascript">
                                function showContent() {
                                    var variable= document.getElementById('puesto').value;
                                    console.log(variable);
                                    
                                    if (variable == "Doctor") {
                                        document.getElementById("content2").style.display="flex";              
                                }
                                    if(variable != "Doctor") {
                                        document.getElementById("content2").style.display="none"; 
                                    } 
                                }


                                function verificar(){

                                    var variable = document.getElementById('puesto').value;

                                    if(variable == "Selecciona alguno..."){
                                        alert("Debes Seleccionar Algun Puesto");
                                        return false;
                                    }  
                                }
                        </script>

                {% endblock %}